<md-toolbar id="contact-groups-toolbar">
    <div class="md-toolbar-tools">
        <h2 md-truncate flex>Manage Kotter-Tech Password</h2>
    </div>
</md-toolbar>
<md-content class="package-content">
    <div class="alert alert-warning">
        Notice: Changing the Kotter-Tech password will affect each Kotter-Tech user of every Agency.
    </div>
    <h4>Please enter the new password for Kotter-Tech User.</h4>
    <div class="manage-pass">
        <form name="passwordForm" id="passwordForm">
            <md-input-container class="password-input">
                <input type="password"
                        name="password"
                        ng-model="fields.password"
                        md-minlength="8"
                        ng-pattern="/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@.#,\$%\^&\*()_+[\]{}<>=?;:|'&quot;\-`~])(?=.{8,})^[^/\\]+$/"
                        ng-minlength="8"
                        ng-maxlength="20"
                        placeholder="new password">
                <div ng-messages="passwordForm.password.$error">
                    <div ng-message="minlength">Password must be at least 8 characters.</div>
                    <div ng-message="maxlength">Password must be less than 20 characters.</div>
                    <div ng-message="pattern">Password must contain 1 Uppercase Character, 1 Lowercase Character, 1 Number, and 1 Special character ( \ / are not allowed ).</div>
                </div>
            </md-input-container>
            <md-input-container class="password-input">
                <input type="password"
                        name="passwordConfirmation"
                        md-minlength="8"
                        ng-pattern="/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@.#,\$%\^&\*()_+[\]{}<>=?;:|'&quot;\-`~])(?=.{8,})^[^/\\]+$/"
                        ng-minlength="8"
                        ng-maxlength="20"
                        ng-model="fields.password_confirmation"
                        placeholder="confirm new password">
                <div ng-messages="passwordForm.passwordConfirmation.$error">
                    <small ng-show="passwordForm.passwordConfirmation.$dirty && fields.password != fields.password_confirmation" >Password confirmation does not match.</small>
                    <div ng-message="minlength">Password must be at least 8 characters.</div>
                    <div ng-message="maxlength">Password must be less than 20 characters.</div>
                    <div ng-message="pattern">Password must contain 1 Uppercase Character, 1 Lowercase Character, 1 Number, and 1 Special character ( \ / are not allowed ).</div>
                </div>
            </md-input-container>
            <br>
            <md-button ng-click="triggerUpdate()"
                        ng-show="!loading"
                        type="submit"
                        form="passwordForm"
                        ng-disabled="passwordForm.$invalid || fields.password != fields.password_confirmation"
                        class="md-warn md-raised">
                Update Password
            </md-button>
            <div ng-if="loading" style="width: 250px; text-align: center; opacity: 0.6; margin: auto;">
                <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i><br />
                This might take a while. Please wait...
            </div>
        </form>
    </div>
</md-content>